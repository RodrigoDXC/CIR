<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>public</access>
        <active>true</active>
        <api_name>x_fru_cir.CIRDriveOffProductRecallAjax</api_name>
        <caller_access/>
        <client_callable>true</client_callable>
        <description/>
        <name>CIRDriveOffProductRecallAjax</name>
        <script><![CDATA[var CIRDriveOffProductRecallAjax = Class.create();
CIRDriveOffProductRecallAjax.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {


    /** 
     *Get the user location 
     * 
     * USED IN - Autopopulate data if  case typedrive off - Catalog Client Script
     *  
     * @return {Sys Id} of the user location, void if cannot reach the user.
     */
    getUserLocation: function() {
        return new CIRDriveOffHelper().GetUserLocation();
    },

/** 
     *Check if a certain Product Recall already have some action. 
     * 
     * USED IN - Client Script - Make location Read Only if some actions exists
     *  
     * @return {Boolean} True if exists, false otherwise
     */
    actionsCreated: function() {
        var product = this.getParameter('sysparm_product');
        return new CIRProductRecall().ActionsCreated(product);
    },

    /** 
     * Populate the Field SendTo on Product Recall with the correct emails / numbers to send. 
     * 
     * USED IN - UI Action - Send  Email to Stakeholders
     * USED IN - UI Action - Send  Email to Stakeholders
     * USED IN - UI Action - Send  Email to Stakeholders
     * USED IN - UI Action - Send  Email to Stakeholders
     *  
     * @return {Sys Id} of the user location, void if cannot reach the user.
     */
    populateToField: function() {
        var product = this.getParameter('sysparm_product');
        var type = this.getParameter('sysparm_type');
        return new CIRProductRecall().PopulateToField(product, type);
    },
    productRecallStoreCount: function() {
        var product = this.getParameter('sysparam_product');
        return new HSEProductRecall().ProductRecallStoreCount(product);
    },

    type: 'CIRDriveOffProductRecallAjax'
});]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>Antonio.Carvalho@fruitionpartners.pt</sys_created_by>
        <sys_created_on>2020-08-24 15:11:14</sys_created_on>
        <sys_id>95990e86dbf6d810bf9ead8ed396194f</sys_id>
        <sys_mod_count>6</sys_mod_count>
        <sys_name>CIRDriveOffProductRecallAjax</sys_name>
        <sys_package display_value="Corporate Incident Response" source="x_fru_cir">265c101f13ab44100b8670a76144b0a2</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="Corporate Incident Response">265c101f13ab44100b8670a76144b0a2</sys_scope>
        <sys_update_name>sys_script_include_95990e86dbf6d810bf9ead8ed396194f</sys_update_name>
        <sys_updated_by>Antonio.Carvalho@fruitionpartners.pt</sys_updated_by>
        <sys_updated_on>2020-09-07 13:03:24</sys_updated_on>
    </sys_script_include>
</record_update>
